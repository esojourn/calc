# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 项目概述

这是一个跑步配速转换工具,用于在跑步配速(分钟/公里)和跑步机速度(公里/小时)之间进行转换。

## 技术架构

- **单文件架构**: 整个应用是一个单一的 PHP 文件 (`index.php`),包含所有的后端逻辑、HTML、CSS 和 JavaScript
- **前端**: 使用 jQuery 3.4.1 和 Pure CSS 框架进行 UI 交互和样式
- **后端**: PHP 处理表单提交和计算逻辑
- **无构建步骤**: 这是一个传统的 PHP 应用,直接部署即可运行

## 核心计算逻辑

### 配速转换算法 (work() 函数, index.php:54-86)

1. **配速 → km/h**:
   - 输入格式: 4位数字(如630表示6分30秒)
   - 计算: `kmh = 3600 / (分钟 * 60 + 秒)`

2. **km/h → 配速**:
   - 计算: `配速(分钟) = 60 / kmh`
   - 秒数计算: `秒 = (配速小数部分) * 60`
   - 格式化为4位数字字符串,补零处理

### 表单交互机制

- 使用隐藏字段 `who` 来标识用户最后修改的输入框
- jQuery 监听 `change` 和 `click` 事件,自动切换激活状态
- 通过 CSS 类 `who-active` 高亮当前编辑的输入框

## 验证规则

- **km/h**: 必须是数字,范围 6-25 之间
- **配速**: 必须是数字,范围 200-999 之间(2分00秒到9分59秒)

## 部署

这是一个标准的 PHP 应用:
- 需要 PHP 环境(任何支持 PHP 的 web 服务器)
- 将文件放到 web 根目录即可访问
- 无需任何依赖安装或构建过程

## 重要约定

- 配速输入格式为4位数字,无需冒号分隔(例如: 630 = 6分30秒)
- 支持小数输入 km/h (如 12.3)
- Android 浏览器对小数输入有特殊处理要求
